<div class="header">
<div class="subTitle">
     compact1, compact2, compact3 
   </div>
<div class="subTitle">
     java.util.spi 
   </div>
<h2 class="title" title="Class LocaleServiceProvider">Class LocaleServiceProvider</h2>
</div><div class="contentContainer">
<ul class="inheritance">
<li><a href="../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>java.util.spi.LocaleServiceProvider</li>
</ul> </li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>
        已知直接子类：
       </dt>
<dd>
<span><a href="../../../java/text/spi/BreakIteratorProvider.html" title="java.text.spi中的类">BreakIteratorProvider</a> ， <a href="../../../java/util/spi/CalendarDataProvider.html" title="java.util.spi中的类">CalendarDataProvider</a> ， <a href="../../../java/util/spi/CalendarNameProvider.html" title="java.util.spi中的类">CalendarNameProvider</a> ， <a href="../../../java/text/spi/CollatorProvider.html" title="java.text.spi中的类">CollatorProvider</a> ， <a href="../../../java/util/spi/CurrencyNameProvider.html" title="java.util.spi中的类">CurrencyNameProvider</a> ， <a href="../../../java/text/spi/DateFormatProvider.html" title="java.text.spi中的类">DateFormatProvider</a> ， <a href="../../../java/text/spi/DateFormatSymbolsProvider.html" title="java.text.spi中的类">DateFormatSymbolsProvider</a> ， <a href="../../../java/text/spi/DecimalFormatSymbolsProvider.html" title="java.text.spi中的类">DecimalFormatSymbolsProvider</a> ， <a href="../../../java/util/spi/LocaleNameProvider.html" title="java.util.spi中的类">LocaleNameProvider</a> ， <a href="../../../java/text/spi/NumberFormatProvider.html" title="java.text.spi中的类">NumberFormatProvider</a> ， <a href="../../../java/util/spi/TimeZoneNameProvider.html" title="java.util.spi中的类">TimeZoneNameProvider</a></span>
</dd>
</dl>
<hr/> <br/> <pre>public abstract class <span class="typeNameLabel">LocaleServiceProvider</span>
extends <a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></pre>
<div class="block">
<p> <span>这是所有本地敏感的服务提供商接口（SPI）的超类。</span> </p>
<p> <span>区域设置敏感的服务提供者接口是与<code>java.text</code>和<code>java.util</code>包中的区域设置敏感类相对<code>java.text</code> <code>java.util</code> 。</span> <span>这些接口使得能够构建区域设置敏感对象并检索这些包的本地化名称。</span> <span>在<code>java.text</code>和<code>java.util</code>软件包中使用区域敏感的工厂方法和名称检索方法，使用提供程序接口的实现来为Java运行时环境本身支持的语言环境提供支持。</span> </p>
<h3> <span>包装区域敏感服务提供商实施</span> </h3>
<span>这些区域设置敏感服务的实现使用<a href="../../../../technotes/guides/extensions/index.html">Java Extension Mechanism</a>作为已安装的<a href="../../../../technotes/guides/extensions/index.html">扩展</a>进行打包。</span>
<span>提供商使用资源目录META-INF / services中的提供者配置文件来标识自身，使用完全限定的提供者接口类名作为文件名。</span>
<span>该文件应包含一个完全限定的具体提供程序类名称列表，每行一个。</span>
<span>一行由任何换行符（'\ n'），回车符（'\ r'）或回车符后跟随换行符终止。</span>
<span>忽略每个名称周围的空格和制表符，以及空白行。</span>
<span>注释字符为'＃'（'＃'）;</span>
<span>在每行上，忽略第一个注释字符之后的所有字符。</span>
<span>文件必须以UTF-8编码。</span>
<p> <span>如果特定的具体提供程序类在多个配置文件中命名，或者在同一配置文件中多次命名，那么重复的项将被忽略。</span> <span>命名特定提供者的配置文件不需要与提供者本身在同一个jar文件或其他分发单元中。</span> <span>提供程序必须可以从初始查询的相同类加载器访问以查找配置文件;</span> <span>这不一定是加载文件的类加载器。</span> </p>
<p> <span>例如， <a href="../../../java/text/spi/DateFormatProvider.html" title="java.text.spi中的类">8846496749149</a>类的实现应该采用包含该文件的jar文件的形式：</span> </p>
<pre>  <span>META-INF/services/java.text.spi.DateFormatProvider</span> </pre>
<span>而文件<code>java.text.spi.DateFormatProvider</code>应该有一行如：</span>
<pre>  <span><code>com.foo.DateFormatProviderImpl</code></span> </pre>
<span>它是一个实现类的完全限定类名<code>DateFormatProvider</code> 。</span>
<h4> <span>调用区域敏感服务</span> </h4>
<p> <span><code>java.text</code>和<code>java.util</code>包中的区域设置敏感的工厂方法和名称检索方法在需要时调用服务提供者方法来支持所请求的区域设置。</span> <span>方法首先检查Java运行时环境本身是否支持所请求的区域设置，并使用其支持（如果可用）。</span> <span>否则，他们将<a href="../../../java/util/spi/LocaleServiceProvider.html#isSupportedLocale-java.util.Locale-">安装</a>的提供程序的<a href="../../../java/util/spi/LocaleServiceProvider.html#isSupportedLocale-java.util.Locale-"><code>isSupportedLocale</code></a>方法调用相应的接口来查找支持所请求的区域设置的方法。</span> <span>如果找到这样的提供者，则调用其他方法来获取请求的对象或名称。</span> <span>当检查是否支持语言环境时，默认情况下<a href="../Locale.html#def_extensions">locale's extensions</a>将被忽略。</span> <span>（如果还应检查区域设置的扩展名，则必须<code>isSupportedLocale</code>方法。）如果Java运行时环境本身以及已安装的提供程序都不支持所请求的区域设置，则方法将通过候选区域设置列表，并重复每次可用性检查，直到找到了一个匹配。</span> <span>用于创建候选语言环境列表的算法与默认情况下的<code>ResourceBundle</code>使用的<code>ResourceBundle</code>相同（有关详细信息，请参阅<a href="../../../java/util/ResourceBundle.Control.html#getCandidateLocales-java.lang.String-java.util.Locale-"><code>getCandidateLocales</code></a> ）。</span> <span>即使从候选列表中解析出语言环境，返回请求的对象或名称的方法也将使用原始请求的语言环境（包括<code>Locale</code>扩展名）进行调用。</span> <span>Java运行时环境必须支持所有区域设置敏感服务的根区域设置，以确保此过程终止。</span> </p>
<p> <span>名字（而不是其他对象的提供者）的供应商被允许返回null一些名的请求甚至，他们声称通过包括他们在为他们的返回值，以支持区域设置<code>getAvailableLocales</code> 。</span> <span>类似地，Java运行时环境本身可能没有它支持的所有区域设置的所有名称。</span> <span>这是因为要求名称的对象集可能很大，随时间而变化，因此完全覆盖它们并不总是可行的。</span> <span>如果Java运行时环境或提供程序返回null而不是名称，则查找将如上所述进行，如同不支持语言环境一样。</span> </p>
<p> <span>从JDK8开始，可以通过使用“java.locale.providers”系统属性来配置区域设置敏感服务的搜索顺序。</span> <span>此系统属性声明用户查找由逗号分隔的区域设置敏感服务的首选顺序。</span> <span>只能在Java运行时启动时读取，所以稍后调用System.setProperty（）不会影响顺序。</span> </p>
<p> <span>例如，如果在属性中指定了以下内容：</span> </p>
<pre>  <span>java.locale.providers=SPI,JRE</span> </pre>
<span>其中“SPI”表示在安装的SPI提供程序中实现的区域敏感服务，“JRE”表示Java运行时环境中的区域敏感服务，首先查看SPI提供程序中的区域敏感服务。</span>
<p> <span>还有另外两个可能的区域设置敏感的服务提供商，即基于Unicode Consortium的<a href="http://cldr.unicode.org/">CLDR Project</a>的提供商“CLDR”，以及反映用户在底层操作系统中的自定义设置的提供商“HOST”。</span> <span>这两个提供程序可能不可用，具体取决于Java运行时环境的实现。</span> <span>指定“JRE，SPI”与默认行为相同，这与以前的版本兼容。</span> </p>
</div>
<dl>
<dt>
<span class="simpleTagLabel">从以下版本开始：</span>
</dt>
<dd>
         1.6 
       </dd>
</dl> </li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!-- --> </a> <h3>构造方法摘要</h3>
<table border="0" cellpadding="3" cellspacing="0" class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption>
<span>构造方法</span>
<span class="tabEnd"> </span>
</caption>
<tbody>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/util/spi/LocaleServiceProvider.html#LocaleServiceProvider--">LocaleServiceProvider</a></span>()</code>
<div class="block">
              唯一的构造函数。 
            </div> </td>
</tr>
</tbody>
</table> </li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!-- --> </a> <h3>方法摘要</h3>
<table border="0" cellpadding="3" cellspacing="0" class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption>
<span class="activeTableTab" id="t0"><span>所有方法</span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t2"><span><a href="javascript:show(2);">接口方法</a></span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t3"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t4"><span><a href="javascript:show(8);">具体的方法</a></span><span class="tabEnd"> </span></span>
</caption>
<tbody>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor" id="i0">
<td class="colFirst"><code>abstract <a href="../../../java/util/Locale.html" title="class in java.util">Locale</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/util/spi/LocaleServiceProvider.html#getAvailableLocales--">getAvailableLocales</a></span>()</code>
<div class="block">
              返回此区域设置服务提供程序可以为其提供本地化对象或名称的所有区域设置的数组。 
            </div> </td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/util/spi/LocaleServiceProvider.html#isSupportedLocale-java.util.Locale-">isSupportedLocale</a></span>(<a href="../../../java/util/Locale.html" title="class in java.util">Locale</a> locale)</code>
<div class="block">
              如果本地服务提供商支持给定的 
             <code>locale</code> ，则返回 
             <code>true</code> 。 
            </div> </td>
</tr>
</tbody>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!-- --> </a> <h3>Methods inherited from class java.lang.<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></h3> <code><a href="../../../java/lang/Object.html#clone--">clone</a>, <a href="../../../java/lang/Object.html#equals-java.lang.Object-">equals</a>, <a href="../../../java/lang/Object.html#finalize--">finalize</a>, <a href="../../../java/lang/Object.html#getClass--">getClass</a>, <a href="../../../java/lang/Object.html#hashCode--">hashCode</a>, <a href="../../../java/lang/Object.html#notify--">notify</a>, <a href="../../../java/lang/Object.html#notifyAll--">notifyAll</a>, <a href="../../../java/lang/Object.html#toString--">toString</a>, <a href="../../../java/lang/Object.html#wait--">wait</a>, <a href="../../../java/lang/Object.html#wait-long-">wait</a>, <a href="../../../java/lang/Object.html#wait-long-int-">wait</a></code></li>
</ul> </li>
</ul> </li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!-- --> </a> <h3>构造方法详细信息</h3> <a name="LocaleServiceProvider--">
<!-- --> </a>
<ul class="blockListLast">
<li class="blockList"> <h4>LocaleServiceProvider</h4> <pre>protected LocaleServiceProvider()</pre>
<div class="block">
<span>唯一的构造函数。</span>
<span>（用于子类构造函数的调用，通常是隐式的。）</span>
</div> </li>
</ul> </li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!-- --> </a> <h3>方法详细信息</h3> <a name="getAvailableLocales--">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getAvailableLocales</h4> <pre>public abstract <a href="../../../java/util/Locale.html" title="class in java.util">Locale</a>[] getAvailableLocales()</pre>
<div class="block">
<span>返回此区域设置服务提供程序可以为其提供本地化对象或名称的所有区域设置的数组。</span>
<span>此信息用于组成区域设置相关服务的<code>getAvailableLocales()</code>值，例如<code>DateFormat.getAvailableLocales()</code> 。</span>
<p> <span>通过该方法返回的数组不应该包括两个或者更多<code>Locale</code>对象仅在它们的扩展名不同。</span> </p>
</div>
<dl>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             所有语言环境的数组，这个语言环境服务提供者可以为其提供本地化的对象或名称。 
           </dd>
</dl> </li>
</ul> <a name="isSupportedLocale-java.util.Locale-">
<!-- --> </a>
<ul class="blockListLast">
<li class="blockList"> <h4>isSupportedLocale</h4> <pre>public boolean isSupportedLocale(<a href="../../../java/util/Locale.html" title="class in java.util">Locale</a> locale)</pre>
<div class="block">
<span>如果本地服务提供商支持给定的<code>locale</code> ，则返回<code>true</code> 。</span>
<span>给定的<code>locale</code>可能包含<a href="../Locale.html#def_extensions">extensions</a> ，应该考虑到支持确定。</span>
<p> <span>默认实现返回<code>true</code>如果给定<code>locale</code>等于任何可用的<code>Locale</code> S按返回<a href="../../../java/util/spi/LocaleServiceProvider.html#getAvailableLocales--"><code>getAvailableLocales()</code></a>在两个指定忽略任何扩展<code>locale</code>和可用的语言环境。</span> <span>如果这些实现是<code>Locale</code>扩展感知，那么具体的区域设置服务提供者实现应该覆盖此方法。</span> <span>例如， <code>DecimalFormatSymbolsProvider</code>实现将需要检查给定locale中的<code>locale</code> ，以查看是否指定了任何编号系统并可以被支持。</span> <span>但是， <code>CollatorProvider</code>实现可能不受任何特定编号系统的影响，在这种情况下，编号系统的扩展应该被忽略。</span> </p>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>locale</code> - 要测试的 
            <code>Locale</code>
</dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
<span><code>true</code>如果给定<code>locale</code>由该供应商的支持;</span>
<span><code>false</code>否则。</span>
</dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../../java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - 如果给定的 
            <code>locale</code>是 
            <code>null</code>
</dd>
<dt>
<span class="simpleTagLabel">从以下版本开始：</span>
</dt>
<dd>
             1.8 
           </dd>
<dt>
<span class="seeLabel">另请参见：</span>
</dt>
<dd>
<a href="../../../java/util/Locale.html#hasExtensions--"><code>Locale.hasExtensions()</code></a> ， 
            <a href="../../../java/util/Locale.html#stripExtensions--"><code>Locale.stripExtensions()</code></a>
</dd>
</dl> </li>
</ul> </li>
</ul> </li>
</ul>
</div>
</div>