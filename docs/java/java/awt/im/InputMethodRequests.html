<div class="header">
<div class="subTitle">
     java.awt.im 
   </div>
<h2 class="title" title="Interface InputMethodRequests">Interface InputMethodRequests</h2>
</div><div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>
         All Known Subinterfaces: 
       </dt>
<dd>
<span><a href="../../../java/awt/im/spi/InputMethodContext.html" title="java.awt.im.spi中的接口">InputMethodContext</a></span>
</dd>
</dl>
<hr/> <br/> <pre>public interface <span class="typeNameLabel">InputMethodRequests</span></pre>
<div class="block">
<span>InputMethodRequests定义文本编辑组件必须处理的请求，以便使用输入法。</span>
<span>该组件可以实现此接口本身或使用实现它的单独对象。</span>
<span>必须从组件的getInputMethodRequests方法返回实现此接口的对象。</span>
<p> <span>文本编辑组件还必须提供一个输入法事件侦听器。</span> </p>
<p> <span>该接口旨在支持两个输入用户界面之一：</span> </p>
<ul>
<li> <span><em>现场</em>输入，组合文本显示为文本组件文本体的一部分。</span> </li>
<li> <span><em>现场</em>输入，其中组合文本显示在单独的合成窗口中，恰好在提交文本时将插入文本的插入点下方。</span> <span>请注意，如果在组件的文本正文中选择文本，则此文本将在承诺时被承诺文本替换;</span> <span>因此，它不被视为输入文本的上下文的一部分。</span> </li>
</ul>
</div>
<dl>
<dt>
<span class="simpleTagLabel">从以下版本开始：</span>
</dt>
<dd>
         1.2 
       </dd>
<dt>
<span class="seeLabel">另请参见：</span>
</dt>
<dd>
<span><a href="../../../java/awt/Component.html#getInputMethodRequests--"><code>Component.getInputMethodRequests()</code></a> ， <a href="../../../java/awt/event/InputMethodListener.html" title="java.awt.event中的接口"><code>InputMethodListener</code></a></span>
</dd>
</dl> </li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!-- --> </a> <h3>方法摘要</h3>
<table border="0" cellpadding="3" cellspacing="0" class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption>
<span class="activeTableTab" id="t0"><span>所有方法</span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t2"><span><a href="javascript:show(2);">接口方法</a></span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t3"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd"> </span></span>
</caption>
<tbody>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="../../../java/text/AttributedCharacterIterator.html" title="interface in java.text">AttributedCharacterIterator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/awt/im/InputMethodRequests.html#cancelLatestCommittedText-java.text.AttributedCharacterIterator.Attribute:A-">cancelLatestCommittedText</a></span>(<a href="../../../java/text/AttributedCharacterIterator.Attribute.html" title="class in java.text">AttributedCharacterIterator.Attribute</a>[] attributes)</code>
<div class="block">
              从文本编辑组件获取最新提交的文本，并将其从组件的文本正文中删除。 
            </div> </td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="../../../java/text/AttributedCharacterIterator.html" title="interface in java.text">AttributedCharacterIterator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/awt/im/InputMethodRequests.html#getCommittedText-int-int-java.text.AttributedCharacterIterator.Attribute:A-">getCommittedText</a></span>(int beginIndex, int endIndex, <a href="../../../java/text/AttributedCharacterIterator.Attribute.html" title="class in java.text">AttributedCharacterIterator.Attribute</a>[] attributes)</code>
<div class="block">
              获取一个迭代器，提供对文本编辑组件中包含的整个文本和属性的访问，除了未提交的文本。 
            </div> </td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/awt/im/InputMethodRequests.html#getCommittedTextLength--">getCommittedTextLength</a></span>()</code>
<div class="block">
              获取文本编辑组件中包含的整个文本的长度，但未提交（组合）文本除外）。 
            </div> </td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/awt/im/InputMethodRequests.html#getInsertPositionOffset--">getInsertPositionOffset</a></span>()</code>
<div class="block">
              获取文本编辑组件中包含的提交文本中插入位置的偏移量。 
            </div> </td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code><a href="../../../java/awt/font/TextHitInfo.html" title="class in java.awt.font">TextHitInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/awt/im/InputMethodRequests.html#getLocationOffset-int-int-">getLocationOffset</a></span>(int x, int y)</code>
<div class="block">
              获取屏幕上指定的绝对x和y坐标的组合文本中的偏移量。 
            </div> </td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code><a href="../../../java/text/AttributedCharacterIterator.html" title="interface in java.text">AttributedCharacterIterator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/awt/im/InputMethodRequests.html#getSelectedText-java.text.AttributedCharacterIterator.Attribute:A-">getSelectedText</a></span>(<a href="../../../java/text/AttributedCharacterIterator.Attribute.html" title="class in java.text">AttributedCharacterIterator.Attribute</a>[] attributes)</code>
<div class="block">
              从文本编辑组件获取当前选定的文本。 
            </div> </td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code><a href="../../../java/awt/Rectangle.html" title="class in java.awt">Rectangle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java/awt/im/InputMethodRequests.html#getTextLocation-java.awt.font.TextHitInfo-">getTextLocation</a></span>(<a href="../../../java/awt/font/TextHitInfo.html" title="class in java.awt.font">TextHitInfo</a> offset)</code>
<div class="block">
              获取当前组合文本中指定偏移量的位置，或者在提交文本中获取选择的位置。 
            </div> </td>
</tr>
</tbody>
</table> </li>
</ul> </li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!-- --> </a> <h3>方法详细信息</h3> <a name="getTextLocation-java.awt.font.TextHitInfo-">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getTextLocation</h4> <pre><a href="../../../java/awt/Rectangle.html" title="class in java.awt">Rectangle</a> getTextLocation(<a href="../../../java/awt/font/TextHitInfo.html" title="class in java.awt.font">TextHitInfo</a> offset)</pre>
<div class="block">
<span>获取当前组合文本中指定偏移量的位置，或者在提交文本中获取选择的位置。</span>
<span>例如，该信息用于将候选窗口放置在合成文本附近，或者在将插入提交文本的位置附近的合成窗口。</span>
<p> <span>如果组件已经组合文本（因为发送给它的最新的InputMethodEvent包含组合文本），则偏移量相对于组合文本 - offset 0表示组合文本中的第一个字符。</span> <span>返回的位置应该是这个字符。</span> </p>
<p> <span>如果组件没有组合文本，偏移量应该被忽略，返回的位置应该反映包含所选文本的最后一行中的高亮显示的开始（沿行方向）。</span> <span>例如，对于水平从左到右的文本（例如英文），返回包含所选文本的最后一行最左侧字符左侧的位置。</span> <span>对于垂直的从上到下的文本，从右到左继续进行，返回包含所选文本的最左行的顶部位置。</span> </p>
<p> <span>该位置表示为0-厚度插入符号，即如果文本是水平绘制的，则它的宽度为0，如果文本是垂直绘制的，则为0。</span> <span>其他文字方向需要映射到水平或垂直方向。</span> <span>矩形使用绝对屏幕坐标。</span> </p>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<span><code>offset</code> - 组合文本中的偏移量，如果有<code>offset</code>文本;</span>
<span>否则为空</span>
</dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             表示偏移的屏幕位置的矩形 
           </dd>
</dl> </li>
</ul> <a name="getLocationOffset-int-int-">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getLocationOffset</h4> <pre><a href="../../../java/awt/font/TextHitInfo.html" title="class in java.awt.font">TextHitInfo</a> getLocationOffset(int x,
                              int y)</pre>
<div class="block">
<span>获取屏幕上指定的绝对x和y坐标的组合文本中的偏移量。</span>
<span>此信息用于处理鼠标点击和鼠标光标。</span>
<span>偏移量相对于组合文本，因此offset 0表示组合文本的开头。</span>
<p> <span>如果位置在组合文本占用的区域之外，则返回null。</span> </p>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>x</code> - 屏幕上的绝对x坐标 
           </dd>
<dd>
<code>y</code> - 屏幕上的绝对y坐标 
           </dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             描述组合文本中的偏移的文本命中信息。 
           </dd>
</dl> </li>
</ul> <a name="getInsertPositionOffset--">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getInsertPositionOffset</h4> <pre>int getInsertPositionOffset()</pre>
<div class="block">
<span>获取文本编辑组件中包含的提交文本中插入位置的偏移量。</span>
<span>这是插入通过输入法输入的字符的偏移量。</span>
<span>该信息由输入法使用，例如用于检查插入位置周围的文本。</span>
</div>
<dl>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             插入位置的偏移 
           </dd>
</dl> </li>
</ul> <a name="getCommittedText-int-int-java.text.AttributedCharacterIterator.Attribute:A-">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getCommittedText</h4> <pre><a href="../../../java/text/AttributedCharacterIterator.html" title="interface in java.text">AttributedCharacterIterator</a> getCommittedText(int beginIndex,
                                             int endIndex,
                                             <a href="../../../java/text/AttributedCharacterIterator.Attribute.html" title="class in java.text">AttributedCharacterIterator.Attribute</a>[] attributes)</pre>
<div class="block">
<span>获取一个迭代器，提供对文本编辑组件中包含的整个文本和属性的访问，除了未提交的文本。</span>
<span>对于索引计算，应忽略未提交（组合）文本，不能通过迭代器访问。</span>
<p> <span>输入法可以提供它感兴趣的属性的列表。在这种情况下，实现者可能需要的关于其他属性的信息不需要通过迭代器访问。</span> <span>如果列表为空，则所有可用属性信息都应该可访问。</span> </p>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>beginIndex</code> - 第一个字符的索引 
           </dd>
<dd>
<code>endIndex</code> - 最后一个字符后面的字符的索引 
           </dd>
<dd>
<code>attributes</code> - 输入法感兴趣的属性列表 
           </dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             提供对文本及其属性的访问的迭代器 
           </dd>
</dl> </li>
</ul> <a name="getCommittedTextLength--">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getCommittedTextLength</h4> <pre>int getCommittedTextLength()</pre>
<div class="block">
            获取文本编辑组件中包含的整个文本的长度，但未提交（组合）文本除外）。 
          </div>
<dl>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             文本的长度除未提交的文本外 
           </dd>
</dl> </li>
</ul> <a name="cancelLatestCommittedText-java.text.AttributedCharacterIterator.Attribute:A-">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>cancelLatestCommittedText</h4> <pre><a href="../../../java/text/AttributedCharacterIterator.html" title="interface in java.text">AttributedCharacterIterator</a> cancelLatestCommittedText(<a href="../../../java/text/AttributedCharacterIterator.Attribute.html" title="class in java.text">AttributedCharacterIterator.Attribute</a>[] attributes)</pre>
<div class="block">
<span>从文本编辑组件获取最新提交的文本，并将其从组件的文本正文中删除。</span>
<span>这用于一些输入方法中的“撤消提交”功能，其中提交的文本将恢复到其先前的组合状态。</span>
<span>组合文本将使用InputMethodEvent发送到组件。</span>
<p> <span>通常，此功能只能在文本提交后立即支持，而不是在用户对文本执行其他操作之后。</span> <span>当不支持该功能时，返回null。</span> </p>
<p> <span>输入法可以提供它感兴趣的属性的列表。在这种情况下，实现者可能需要的关于其他属性的信息不需要通过迭代器访问。</span> <span>如果列表为空，则所有可用属性信息都应该可访问。</span> </p>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>attributes</code> - 输入法感兴趣的属性列表 
           </dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             最新提交的文本，如果不支持“撤消提交”功能，则为空 
           </dd>
</dl> </li>
</ul> <a name="getSelectedText-java.text.AttributedCharacterIterator.Attribute:A-">
<!-- --> </a>
<ul class="blockListLast">
<li class="blockList"> <h4>getSelectedText</h4> <pre><a href="../../../java/text/AttributedCharacterIterator.html" title="interface in java.text">AttributedCharacterIterator</a> getSelectedText(<a href="../../../java/text/AttributedCharacterIterator.Attribute.html" title="class in java.text">AttributedCharacterIterator.Attribute</a>[] attributes)</pre>
<div class="block">
<span>从文本编辑组件获取当前选定的文本。</span>
<span>这可以用于各种目的。</span>
<span>其中一个是一些输入法中的“再转换”功能。</span>
<span>在这种情况下，输入法通常会发送一个输入法事件来替换所选择的文本与组合文本。</span>
<span>根据输入法的功能，这可能是所选文本的原始组合文本，文本中任何位置输入的最新合成文本，或从选定文本转换回来的文本版本。</span>
<p> <span>输入法可以提供它感兴趣的属性的列表。在这种情况下，实现者可能需要的关于其他属性的信息不需要通过迭代器访问。</span> <span>如果列表为空，则所有可用属性信息都应该可访问。</span> </p>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>attributes</code> - 输入法感兴趣的属性列表 
           </dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             当前选择的文本 
           </dd>
</dl> </li>
</ul> </li>
</ul> </li>
</ul>
</div>
</div>