<div class="header">
<div class="subTitle">
     compact1, compact2, compact3 
   </div>
<div class="subTitle">
     java.io 
   </div>
<h2 class="title" title="Interface Serializable">Interface Serializable</h2>
</div><div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>
         All Known Subinterfaces: 
       </dt>
<dd>
<span><a href="../../org/omg/PortableServer/AdapterActivator.html" title="org.omg.PortableServer中的接口">AdapterActivator</a> ， <a href="../../javax/naming/directory/Attribute.html" title="javax.naming.directory中的接口">Attribute</a> ， <a href="../../javax/print/attribute/Attribute.html" title="javax.print.attribute中的接口">Attribute</a> ， <a href="../../javax/naming/directory/Attributes.html" title="javax.naming.directory中的接口">Attributes</a> ， <a href="../../org/omg/CosNaming/BindingIterator.html" title="界面在org.omg.CosNaming中">BindingIterator</a> ， <a href="../../java/security/cert/CertPathValidatorException.Reason.html" title="java.security.cert中的接口">CertPathValidatorException.Reason</a> ， <a href="../../org/omg/PortableInterceptor/ClientRequestInfo.html" title="在org.omg.PortableInterceptor中的接口">ClientRequestInfo</a> ， <a href="../../org/omg/PortableInterceptor/ClientRequestInterceptor.html" title="在org.omg.PortableInterceptor中的接口">ClientRequestInterceptor</a> ， <a href="../../org/omg/IOP/Codec.html" title="接口在org.omg.IOP">Codec</a> ， <a href="../../org/omg/IOP/CodecFactory.html" title="接口在org.omg.IOP">CodecFactory</a> ， <a href="../../javax/naming/ldap/Control.html" title="javax.naming.ldap中的接口">Control</a> ， <a href="../../org/omg/CORBA/Current.html" title="在org.omg.CORBA中的接口">Current</a> ， <a href="../../org/omg/PortableServer/Current.html" title="org.omg.PortableServer中的接口">Current</a> ， <a href="../../org/omg/PortableInterceptor/Current.html" title="在org.omg.PortableInterceptor中的接口">Current</a> ， <a href="../../org/omg/CORBA/portable/CustomValue.html" title="界面在org.omg.CORBA.portable中">CustomValue</a> ， <a href="../../org/omg/CORBA/DataInputStream.html" title="在org.omg.CORBA中的接口">DataInputStream</a> ， <a href="../../org/omg/CORBA/DataOutputStream.html" title="在org.omg.CORBA中的接口">DataOutputStream</a> ， <a href="../../javax/management/Descriptor.html" title="javax.management中的接口">Descriptor</a> ， <a href="../../javax/crypto/interfaces/DHPrivateKey.html" title="javax.crypto.interfaces中的接口">DHPrivateKey</a> ， <a href="../../javax/crypto/interfaces/DHPublicKey.html" title="javax.crypto.interfaces中的接口">DHPublicKey</a> ， <a href="../../javax/print/attribute/DocAttribute.html" title="javax.print.attribute中的接口">DocAttribute</a> ， <a href="../../org/omg/CORBA/DomainManager.html" title="在org.omg.CORBA中的接口">DomainManager</a> ， <a href="../../java/security/interfaces/DSAPrivateKey.html" title="java.security.interfaces中的接口">DSAPrivateKey</a> ， <a href="../../java/security/interfaces/DSAPublicKey.html" title="java.security.interfaces中的接口">DSAPublicKey</a> ， <a href="../../org/omg/DynamicAny/DynAny.html" title="界面在org.omg.DynamicAny中">DynAny</a> ， <a href="../../org/omg/DynamicAny/DynAnyFactory.html" title="界面在org.omg.DynamicAny中">DynAnyFactory</a> ， <a href="../../org/omg/DynamicAny/DynArray.html" title="界面在org.omg.DynamicAny中">DynArray</a> ， <a href="../../org/omg/DynamicAny/DynEnum.html" title="界面在org.omg.DynamicAny中">DynEnum</a> ， <a href="../../org/omg/DynamicAny/DynFixed.html" title="界面在org.omg.DynamicAny中">DynFixed</a> ， <a href="../../org/omg/DynamicAny/DynSequence.html" title="界面在org.omg.DynamicAny中">DynSequence</a> ， <a href="../../org/omg/DynamicAny/DynStruct.html" title="界面在org.omg.DynamicAny中">DynStruct</a> ， <a href="../../org/omg/DynamicAny/DynUnion.html" title="界面在org.omg.DynamicAny中">DynUnion</a> ， <a href="../../org/omg/DynamicAny/DynValue.html" title="界面在org.omg.DynamicAny中">DynValue</a> ， <a href="../../org/omg/DynamicAny/DynValueBox.html" title="界面在org.omg.DynamicAny中">DynValueBox</a> ， <a href="../../org/omg/DynamicAny/DynValueCommon.html" title="界面在org.omg.DynamicAny中">DynValueCommon</a> ， <a href="../../java/security/interfaces/ECPrivateKey.html" title="java.security.interfaces中的接口">ECPrivateKey</a> ， <a href="../../java/security/interfaces/ECPublicKey.html" title="java.security.interfaces中的接口">ECPublicKey</a> ， <a href="../../javax/naming/ldap/ExtendedRequest.html" title="javax.naming.ldap中的接口">ExtendedRequest</a> ， <a href="../../javax/naming/ldap/ExtendedResponse.html" title="javax.naming.ldap中的接口">ExtendedResponse</a> ， <a href="../../java/io/Externalizable.html" title="java.io中的接口">Externalizable</a> ， <a href="../../org/omg/PortableServer/IdAssignmentPolicy.html" title="org.omg.PortableServer中的接口">IdAssignmentPolicy</a> ， <a href="../../org/omg/CORBA/portable/IDLEntity.html" title="界面在org.omg.CORBA.portable中">IDLEntity</a> ， <a href="../../org/omg/CORBA/IDLType.html" title="在org.omg.CORBA中的接口">IDLType</a> ， <a href="../../org/omg/PortableServer/IdUniquenessPolicy.html" title="org.omg.PortableServer中的接口">IdUniquenessPolicy</a> ， <a href="../../org/omg/PortableServer/ImplicitActivationPolicy.html" title="org.omg.PortableServer中的接口">ImplicitActivationPolicy</a> ， <a href="../../org/omg/PortableInterceptor/Interceptor.html" title="在org.omg.PortableInterceptor中的接口">Interceptor</a> ， <a href="../../org/omg/PortableInterceptor/IORInfo.html" title="在org.omg.PortableInterceptor中的接口">IORInfo</a> ， <a href="../../org/omg/PortableInterceptor/IORInterceptor.html" title="在org.omg.PortableInterceptor中的接口">IORInterceptor</a> ， <a href="../../org/omg/PortableInterceptor/IORInterceptor_3_0.html" title="在org.omg.PortableInterceptor中的接口">IORInterceptor_3_0</a> ， <a href="../../org/omg/CORBA/IRObject.html" title="在org.omg.CORBA中的接口">IRObject</a> ， <a href="../../java/security/Key.html" title="java.security中的接口">Key</a> ， <a href="../../org/omg/PortableServer/LifespanPolicy.html" title="org.omg.PortableServer中的接口">LifespanPolicy</a> ， <a href="../../javax/naming/Name.html" title="javax.naming中的接口">Name</a> ， <a href="../../org/omg/CosNaming/NamingContext.html" title="界面在org.omg.CosNaming中">NamingContext</a> ， <a href="../../org/omg/CosNaming/NamingContextExt.html" title="界面在org.omg.CosNaming中">NamingContextExt</a> ， <a href="../../javax/management/NotificationFilter.html" title="javax.management中的接口">NotificationFilter</a> ， <a href="../../org/omg/PortableInterceptor/ObjectReferenceFactory.html" title="在org.omg.PortableInterceptor中的接口">ObjectReferenceFactory</a> ， <a href="../../org/omg/PortableInterceptor/ObjectReferenceTemplate.html" title="在org.omg.PortableInterceptor中的接口">ObjectReferenceTemplate</a> ， <a href="../../org/omg/PortableInterceptor/ORBInitializer.html" title="在org.omg.PortableInterceptor中的接口">ORBInitializer</a></span>
<span>， <a href="../../org/omg/PortableInterceptor/ORBInitInfo.html" title="在org.omg.PortableInterceptor中的接口">ORBInitInfo</a> ， <a href="../../javax/crypto/interfaces/PBEKey.html" title="javax.crypto.interfaces中的接口">PBEKey</a> ， <a href="../../org/omg/PortableServer/POA.html" title="org.omg.PortableServer中的接口">POA</a> ， <a href="../../org/omg/PortableServer/POAManager.html" title="org.omg.PortableServer中的接口">POAManager</a> ， <a href="../../org/omg/CORBA/Policy.html" title="在org.omg.CORBA中的接口">Policy</a> ， <a href="../../org/omg/PortableInterceptor/PolicyFactory.html" title="在org.omg.PortableInterceptor中的接口">PolicyFactory</a> ， <a href="../../javax/print/attribute/PrintJobAttribute.html" title="javax.print.attribute中的接口">PrintJobAttribute</a> ， <a href="../../javax/print/attribute/PrintRequestAttribute.html" title="javax.print.attribute中的接口">PrintRequestAttribute</a> ， <a href="../../javax/print/attribute/PrintServiceAttribute.html" title="javax.print.attribute中的接口">PrintServiceAttribute</a> ， <a href="../../java/security/PrivateKey.html" title="java.security中的接口">PrivateKey</a> ， <a href="../../java/security/PublicKey.html" title="java.security中的接口">PublicKey</a> ， <a href="../../javax/management/QueryExp.html" title="javax.management中的接口">QueryExp</a> ， <a href="../../javax/management/relation/RelationType.html" title="javax.management.relation中的接口">RelationType</a> ， <a href="../../java/rmi/server/RemoteRef.html" title="java.rmi.server中的接口">RemoteRef</a> ， <a href="../../org/omg/PortableInterceptor/RequestInfo.html" title="在org.omg.PortableInterceptor中的接口">RequestInfo</a> ， <a href="../../org/omg/PortableServer/RequestProcessingPolicy.html" title="org.omg.PortableServer中的接口">RequestProcessingPolicy</a> ， <a href="../../java/security/interfaces/RSAMultiPrimePrivateCrtKey.html" title="java.security.interfaces中的接口">RSAMultiPrimePrivateCrtKey</a> ， <a href="../../java/security/interfaces/RSAPrivateCrtKey.html" title="java.security.interfaces中的接口">RSAPrivateCrtKey</a> ， <a href="../../java/security/interfaces/RSAPrivateKey.html" title="java.security.interfaces中的接口">RSAPrivateKey</a> ， <a href="../../java/security/interfaces/RSAPublicKey.html" title="java.security.interfaces中的接口">RSAPublicKey</a> ， <a href="../../org/omg/SendingContext/RunTime.html" title="org.omg.SendingContext中的接口">RunTime</a> ， <a href="../../javax/crypto/SecretKey.html" title="javax.crypto中的接口">SecretKey</a> ， <a href="../../org/omg/PortableServer/ServantActivator.html" title="org.omg.PortableServer中的接口">ServantActivator</a> ， <a href="../../org/omg/PortableServer/ServantLocator.html" title="org.omg.PortableServer中的接口">ServantLocator</a> ， <a href="../../org/omg/PortableServer/ServantManager.html" title="org.omg.PortableServer中的接口">ServantManager</a> ， <a href="../../org/omg/PortableServer/ServantRetentionPolicy.html" title="org.omg.PortableServer中的接口">ServantRetentionPolicy</a> ， <a href="../../java/rmi/server/ServerRef.html" title="java.rmi.server中的接口">ServerRef</a> ， <a href="../../org/omg/PortableInterceptor/ServerRequestInfo.html" title="在org.omg.PortableInterceptor中的接口">ServerRequestInfo</a> ， <a href="../../org/omg/PortableInterceptor/ServerRequestInterceptor.html" title="在org.omg.PortableInterceptor中的接口">ServerRequestInterceptor</a> ， <a href="../../org/omg/CORBA/portable/StreamableValue.html" title="界面在org.omg.CORBA.portable中">StreamableValue</a> ， <a href="../../javax/print/attribute/SupportedValuesAttribute.html" title="javax.print.attribute中的接口">SupportedValuesAttribute</a> ， <a href="../../org/omg/PortableServer/ThreadPolicy.html" title="org.omg.PortableServer中的接口">ThreadPolicy</a> ， <a href="../../javax/naming/ldap/UnsolicitedNotification.html" title="javax.naming.ldap中的接口">UnsolicitedNotification</a> ， <a href="../../org/omg/CORBA/portable/ValueBase.html" title="界面在org.omg.CORBA.portable中">ValueBase</a> ， <a href="../../javax/management/ValueExp.html" title="javax.management中的接口">ValueExp</a></span>
</dd>
</dl>
<hr/> <br/> <pre>public interface <span class="typeNameLabel">Serializable</span></pre>
<div class="block">
<span>类的序列化由实现java.io.Serializable接口的类启用。</span>
<span>不实现此接口的类将不会使任何状态序列化或反序列化。</span>
<span>可序列化类的所有子类型都是可序列化的。</span>
<span>序列化接口没有方法或字段，仅用于标识可串行化的语义。</span>
<p> <span>为了允许序列化不可序列化的子类型，子类型可能承担保存和恢复超类型的公共，受保护和（如果可访问）包字段的状态的责任。</span> <span>子类型可以承担此责任，只有当它扩展的类具有可访问的无参数构造函数来初始化类的状态。</span> <span>如果不是这样，声明一个类Serializable是一个错误。</span> <span>错误将在运行时检测到。</span> </p>
<p> <span>在反序列化期间，非可序列化类的字段将使用该类的public或protected no-arg构造函数进行初始化。</span> <span>对于可序列化的子类，必须可以访问no-arg构造函数。</span> <span>可序列化子类的字段将从流中恢复。</span> </p>
<p> <span>当遍历图形时，可能会遇到不支持Serializable接口的对象。</span> <span>在这种情况下，将抛出NotSerializableException，并将标识不可序列化对象的类。</span> </p>
<p> <span>在序列化和反序列化过程中需要特殊处理的类必须采用具有这些精确签名的特殊方法：</span> </p>
<pre>  <span>private void writeObject(java.io.ObjectOutputStream out)
     throws IOException
 private void readObject(java.io.ObjectInputStream in)
     throws IOException, ClassNotFoundException;
 private void readObjectNoData()
     throws ObjectStreamException;</span> </pre>
<p> <span>writeObject方法负责为其特定的类编写对象的状态，以便相应的readObject方法可以恢复它。</span> <span>可以通过调用out.defaultWriteObject来调用保存对象字段的默认机制。</span> <span>该方法不需要关注属于其超类或子类的状态。</span> <span>通过使用writeObject方法或通过使用DataOutput支持的原始数据类型的方法将各个字段写入ObjectOutputStream来保存状态。</span> </p>
<p> <span>readObject方法负责从流中读取并恢复类字段。</span> <span>它可以调用in.defaultReadObject来调用恢复对象的非静态和非瞬态字段的默认机制。</span> <span>defaultReadObject方法使用流中的信息将保存在流中的对象的字段分配给当前对象中相应命名的字段。</span> <span>当处理类进化到添加新字段时，这将处理这种情况。</span> <span>该方法不需要关注属于其超类或子类的状态。</span> <span>通过使用writeObject方法或通过使用DataOutput支持的原始数据类型的方法将各个字段写入ObjectOutputStream来保存状态。</span> </p>
<p> <span>如果序列化流未将给定类列为反序列化对象的超类，则readObjectNoData方法负责初始化其特定类的对象的状态。</span> <span>这可能发生在接收方使用与发送方不同的反序列化实例的类的版本的情况下，并且接收者的版本扩展了不被发送者版本扩展的类。</span> <span>如果序列化流已被篡改，也可能发生这种情况;</span> <span>因此，尽管存在“敌对”或不完整的源流，readObjectNoData可用于正确初始化反序列化对象。</span> </p>
<p> <span>在将对象写入到流中时需要指定要使用的替代对象的可序列化类应实现具有确切签名的特殊方法：</span> </p>
<pre>  <span>ANY-ACCESS-MODIFIER Object writeReplace() throws ObjectStreamException;</span> </pre>
<p> <span>如果该方法存在并且可以通过在被序列化的对象的类中定义的方法来访问，则该writeReplace方法通过序列化来调用。</span> <span>因此，该方法可以具有私有，受保护和包私有访问。</span> <span>子类访问此方法遵循java可访问性规则。</span> </p>
<p> <span>当从流中读取实例时需要指定替换的类应实现具有确切签名的特殊方法。</span> </p>
<pre>  <span>ANY-ACCESS-MODIFIER Object readResolve() throws ObjectStreamException;</span> </pre>
<p> <span>这个readResolve方法遵循与writeReplace相同的调用规则和可访问性规则。</span> </p>
<p> <span>序列化运行时将每个可序列化的类与称为serialVersionUID的版本号相关联，该序列号在反序列化期间用于验证序列化对象的发送者和接收者是否已加载与该序列化兼容的对象的类。</span> <span>如果接收方加载了一个具有不同于相应发件人类的serialVersionUID的对象的类，则反序列化将导致<a href="../../java/io/InvalidClassException.html" title="java.io中的类"><code>InvalidClassException</code></a> 。</span> <span>一个可序列化的类可以通过声明一个名为<code>"serialVersionUID"</code>的字段来显式地声明它自己的serialVersionUID，该字段必须是静态的，最终的，类型是<code>long</code> ：</span> </p>
<pre>  <span>ANY-ACCESS-MODIFIER static final long serialVersionUID = 42L;</span> </pre>
<span>如果可序列化类没有显式声明serialVersionUID，则序列化运行时将根据Java（TM）对象序列化规范中所述的类的各个方面计算该类的默认serialVersionUID值。</span>
<span>但是， <em>强烈建议</em>所有可序列化的类都明确声明serialVersionUID值，因为默认的serialVersionUID计算对类详细信息非常敏感，这可能会因编译器实现而异，因此可能会在反<code>InvalidClassException</code>化期间导致<code>InvalidClassException</code>的InvalidClassException。</span>
<span>因此，为了保证不同Java编译器实现之间的一致的serialVersionUID值，一个可序列化的类必须声明一个显式的serialVersionUID值。</span>
<span>还强烈建议，显式的serialVersionUID声明在可能的情况下使用<code>private</code>修饰符，因为这种声明仅适用于立即声明的类 - serialVersionUID字段作为继承成员无效。</span>
<span>数组类不能声明一个显式的serialVersionUID，所以它们总是具有默认的计算值，但是对于数组类，放弃了匹配serialVersionUID值的要求。</span>
</div>
<dl>
<dt>
<span class="simpleTagLabel">从以下版本开始：</span>
</dt>
<dd>
         JDK1.1 
       </dd>
<dt>
<span class="seeLabel">另请参见：</span>
</dt>
<dd>
<span><a href="../../java/io/ObjectOutputStream.html" title="java.io中的类"><code>ObjectOutputStream</code></a> ， <a href="../../java/io/ObjectInputStream.html" title="java.io中的类"><code>ObjectInputStream</code></a> ， <a href="../../java/io/ObjectOutput.html" title="java.io中的接口"><code>ObjectOutput</code></a> ， <a href="../../java/io/ObjectInput.html" title="java.io中的接口"><code>ObjectInput</code></a> ， <a href="../../java/io/Externalizable.html" title="java.io中的接口"><code>Externalizable</code></a></span>
</dd>
</dl> </li>
</ul>
</div>
</div>