<div class="header">
<div class="subTitle">
     compact1, compact2, compact3 
   </div>
<div class="subTitle">
     java.security 
   </div>
<h2 class="title" title="Class SignedObject">Class SignedObject</h2>
</div><div class="contentContainer">
<ul class="inheritance">
<li><a href="../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>java.security.SignedObject</li>
</ul> </li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>
         All Implemented Interfaces: 
       </dt>
<dd>
<span><a href="../../java/io/Serializable.html" title="java.io中的接口">Serializable</a></span>
</dd>
</dl>
<hr/> <br/> <pre>public final class <span class="typeNameLabel">SignedObject</span>
extends <a href="../../java/lang/Object.html" title="class in java.lang">Object</a>
implements <a href="../../java/io/Serializable.html" title="interface in java.io">Serializable</a></pre>
<div class="block">
<p> <span>SignedObject是一个类，用于创建可靠的运行时对象，其完整性不会受到威胁，而不会被检测到。</span> </p>
<p> <span>更具体地说，SignedObject包含另一个Serializable对象，即（待签名）对象及其签名。</span> </p>
<p> <span>签名对象是原始对象的“深层副本”（以序列化形式）。</span> <span>一旦复制完成，对原始对象的进一步操纵对副本没有副作用。</span> </p>
<p> <span>底层签名算法由传递给构造函数的Signature对象和<code>verify</code>方法<code>verify</code> 。</span> <span>用于签名的典型用法如下：</span> </p>
<pre>  <span><code> Signature signingEngine = Signature.getInstance(algorithm, provider); SignedObject so = new SignedObject(myobject, signingKey, signingEngine); </code></span> </pre>
<p> <span>验证的典型用法如下（已收到SignedObject <code>so</code> ）：</span> </p>
<pre>  <span><code> Signature verificationEngine = Signature.getInstance(algorithm, provider); if (so.verify(publickey, verificationEngine)) try { Object myobj = so.getObject(); } catch (java.lang.ClassNotFoundException e) {}; </code></span> </pre>
<p> <span>值得注意的几点。</span> <span>首先，不需要初始化签名或验证引擎，因为它将在构造函数和<code>verify</code>方法中重新<code>verify</code> 。</span> <span>其次，为了验证成功，指定的公钥必须是与用于生成SignedObject的私钥对应的公钥。</span> </p>
<p> <span>更重要的是，为了灵活性原因，构造函数和<code>verify</code>方法允许定制的签名引擎，其可以实现未正式安装作为加密提供者的一部分的签名算法。</span> <span>然而，编写验证码的程序员至关重要的是要知道正在使用<code>Signature</code>引擎，因为它自己的<code>verify</code>方法的实现被调用来验证签名。</span> <span>换句话说，恶意<code>Signature</code>可能会选择在验证时始终返回true，以试图绕过安全检查。</span> </p>
<p> <span>签名算法可以是NIST标准DSA，使用DSA和SHA-1。</span> <span>该算法使用与签名相同的约定来指定。</span> <span>使用SHA-1消息摘要算法的DSA算法可以被指定为例如“SHA / DSA”或“SHA-1 / DSA”（它们是等效的）。</span> <span>在RSA的情况下，消息摘要算法有多种选择，因此签名算法可以被指定为例如“MD2 / RSA”，“MD5 / RSA”或“SHA-1 / RSA”。</span> <span>必须指定算法名称，因为没有默认值。</span> </p>
<p> <span>Cryptography Package Provider的名称也由构造函数的Signature参数和<code>verify</code>方法<code>verify</code> 。</span> <span>如果未指定提供程序，则使用默认提供程序。</span> <span>默认情况下，每个安装都可以配置为使用特定的提供者。</span> </p>
<p> <span>SignedObject的潜在应用包括：</span> </p>
<ul>
<li> <span>它可以在内部使用任何Java运行时作为一个不可伪造的授权令牌 - 可以传递的令牌，而不用担心令牌可能被恶意修改而不被检测到。</span> </li>
<li> <span>它可以用于在Java运行时间之外对数据/对象进行签名和序列化（例如，将重要的访问控制数据存储在磁盘上）。</span> </li>
<li> <span>嵌套SignedObject可用于构建类似于授权和授权链的签名的逻辑序列。</span> </li>
</ul>
</div>
<dl>
<dt>
<span class="seeLabel">另请参见：</span>
</dt>
<dd>
<span><a href="../../java/security/Signature.html" title="java.security中的类"><code>Signature</code></a> ， <a href="../../serialized-form.html#java.security.SignedObject">Serialized Form</a></span>
</dd>
</dl> </li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!-- --> </a> <h3>构造方法摘要</h3>
<table border="0" cellpadding="3" cellspacing="0" class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption>
<span>构造方法</span>
<span class="tabEnd"> </span>
</caption>
<tbody>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../java/security/SignedObject.html#SignedObject-java.io.Serializable-java.security.PrivateKey-java.security.Signature-">SignedObject</a></span>(<a href="../../java/io/Serializable.html" title="interface in java.io">Serializable</a> object, <a href="../../java/security/PrivateKey.html" title="interface in java.security">PrivateKey</a> signingKey, <a href="../../java/security/Signature.html" title="class in java.security">Signature</a> signingEngine)</code>
<div class="block">
              从任何可序列化对象构造一个SignedObject。 
            </div> </td>
</tr>
</tbody>
</table> </li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!-- --> </a> <h3>方法摘要</h3>
<table border="0" cellpadding="3" cellspacing="0" class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption>
<span class="activeTableTab" id="t0"><span>所有方法</span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t2"><span><a href="javascript:show(2);">接口方法</a></span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t4"><span><a href="javascript:show(8);">具体的方法</a></span><span class="tabEnd"> </span></span>
</caption>
<tbody>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="../../java/lang/String.html" title="class in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../java/security/SignedObject.html#getAlgorithm--">getAlgorithm</a></span>()</code>
<div class="block">
              检索签名算法的名称。 
            </div> </td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="../../java/lang/Object.html" title="class in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../java/security/SignedObject.html#getObject--">getObject</a></span>()</code>
<div class="block">
              检索封装对象。 
            </div> </td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../java/security/SignedObject.html#getSignature--">getSignature</a></span>()</code>
<div class="block">
              以一个字节数组的形式检索签名对象上的签名。 
            </div> </td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../java/security/SignedObject.html#verify-java.security.PublicKey-java.security.Signature-">verify</a></span>(<a href="../../java/security/PublicKey.html" title="interface in java.security">PublicKey</a> verificationKey, <a href="../../java/security/Signature.html" title="class in java.security">Signature</a> verificationEngine)</code>
<div class="block">
              验证此SignedObject中的签名是使用指定的验证引擎使用给定的验证密钥存储在其中的对象的有效签名。 
            </div> </td>
</tr>
</tbody>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!-- --> </a> <h3>Methods inherited from class java.lang.<a href="../../java/lang/Object.html" title="class in java.lang">Object</a></h3> <code><a href="../../java/lang/Object.html#clone--">clone</a>, <a href="../../java/lang/Object.html#equals-java.lang.Object-">equals</a>, <a href="../../java/lang/Object.html#finalize--">finalize</a>, <a href="../../java/lang/Object.html#getClass--">getClass</a>, <a href="../../java/lang/Object.html#hashCode--">hashCode</a>, <a href="../../java/lang/Object.html#notify--">notify</a>, <a href="../../java/lang/Object.html#notifyAll--">notifyAll</a>, <a href="../../java/lang/Object.html#toString--">toString</a>, <a href="../../java/lang/Object.html#wait--">wait</a>, <a href="../../java/lang/Object.html#wait-long-">wait</a>, <a href="../../java/lang/Object.html#wait-long-int-">wait</a></code></li>
</ul> </li>
</ul> </li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!-- --> </a> <h3>构造方法详细信息</h3> <a name="SignedObject-java.io.Serializable-java.security.PrivateKey-java.security.Signature-">
<!-- --> </a>
<ul class="blockListLast">
<li class="blockList"> <h4>SignedObject</h4> <pre>public SignedObject(<a href="../../java/io/Serializable.html" title="interface in java.io">Serializable</a> object,
                    <a href="../../java/security/PrivateKey.html" title="interface in java.security">PrivateKey</a> signingKey,
                    <a href="../../java/security/Signature.html" title="class in java.security">Signature</a> signingEngine)
             throws <a href="../../java/io/IOException.html" title="class in java.io">IOException</a>,
                    <a href="../../java/security/InvalidKeyException.html" title="class in java.security">InvalidKeyException</a>,
                    <a href="../../java/security/SignatureException.html" title="class in java.security">SignatureException</a></pre>
<div class="block">
<span>从任何可序列化对象构造一个SignedObject。</span>
<span>给定的对象使用指定的签名引擎签名。</span>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>object</code> - 要签名的对象。 
           </dd>
<dd>
<code>signingKey</code> - 用于签名的私钥。 
           </dd>
<dd>
<code>signingEngine</code> - 签名签名引擎。 
           </dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../java/io/IOException.html" title="class in java.io">IOException</a></code> - 如果在序列化期间发生错误 
           </dd>
<dd>
<code><a href="../../java/security/InvalidKeyException.html" title="class in java.security">InvalidKeyException</a></code> - 如果密钥无效。 
           </dd>
<dd>
<code><a href="../../java/security/SignatureException.html" title="class in java.security">SignatureException</a></code> - 如果签名失败。 
           </dd>
</dl> </li>
</ul> </li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!-- --> </a> <h3>方法详细信息</h3> <a name="getObject--">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getObject</h4> <pre>public <a href="../../java/lang/Object.html" title="class in java.lang">Object</a> getObject()
                 throws <a href="../../java/io/IOException.html" title="class in java.io">IOException</a>,
                        <a href="../../java/lang/ClassNotFoundException.html" title="class in java.lang">ClassNotFoundException</a></pre>
<div class="block">
<span>检索封装对象。</span>
<span>封装的对象在返回之前被解除序列化。</span>
</div>
<dl>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             封装对象。 
           </dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../java/io/IOException.html" title="class in java.io">IOException</a></code> - 如果在反序列化期间发生错误 
           </dd>
<dd>
<code><a href="../../java/lang/ClassNotFoundException.html" title="class in java.lang">ClassNotFoundException</a></code> - 如果在反序列化期间发生错误 
           </dd>
</dl> </li>
</ul> <a name="getSignature--">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getSignature</h4> <pre>public byte[] getSignature()</pre>
<div class="block">
            以一个字节数组的形式检索签名对象上的签名。 
          </div>
<dl>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
<span>签名。</span>
<span>每次调用此方法时都会返回一个新数组。</span>
</dd>
</dl> </li>
</ul> <a name="getAlgorithm--">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>getAlgorithm</h4> <pre>public <a href="../../java/lang/String.html" title="class in java.lang">String</a> getAlgorithm()</pre>
<div class="block">
            检索签名算法的名称。 
          </div>
<dl>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             签名算法名称。 
           </dd>
</dl> </li>
</ul> <a name="verify-java.security.PublicKey-java.security.Signature-">
<!-- --> </a>
<ul class="blockListLast">
<li class="blockList"> <h4>verify</h4> <pre>public boolean verify(<a href="../../java/security/PublicKey.html" title="interface in java.security">PublicKey</a> verificationKey,
                      <a href="../../java/security/Signature.html" title="class in java.security">Signature</a> verificationEngine)
               throws <a href="../../java/security/InvalidKeyException.html" title="class in java.security">InvalidKeyException</a>,
                      <a href="../../java/security/SignatureException.html" title="class in java.security">SignatureException</a></pre>
<div class="block">
            验证此SignedObject中的签名是使用指定的验证引擎使用给定的验证密钥存储在其中的对象的有效签名。 
          </div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>verificationKey</code> - 验证公钥。 
           </dd>
<dd>
<code>verificationEngine</code> - 签名验证引擎。 
           </dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
<code>true</code>如果签名有效， 
            <code>false</code> false 
           </dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../java/security/SignatureException.html" title="class in java.security">SignatureException</a></code> - 如果签名验证失败。 
           </dd>
<dd>
<code><a href="../../java/security/InvalidKeyException.html" title="class in java.security">InvalidKeyException</a></code> - 验证键是否无效。 
           </dd>
</dl> </li>
</ul> </li>
</ul> </li>
</ul>
</div>
</div>